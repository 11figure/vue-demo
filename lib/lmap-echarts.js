!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=18)}([function(t,e,n){t.exports=!n(1)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var r=n(24);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(6),o=n(5);t.exports=function(t){return r(o(t))}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(14),i=r(o),a=n(15),u=(r(a),n(16)),c=(r(u),n(17)),s=(r(c),n(12)),f=r(s),p={};p.CoordSys=i.default,p.MapLayer=f.default,e.default={extecharts:p}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={};r.extend=function(t){var e,n,r,o;for(n=1,r=arguments.length;n<r;n++){o=arguments[n];for(e in o)t[e]=o[e]}return t},e.default={utils:r}},function(t,e,n){"use strict";e.__esModule=!0;var r=n(19),o=function(t){return t&&t.__esModule?t:{default:t}}(r);e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){this.map=t;var n=this.map.getSize(),r=document.createElement("div");if(r.style.position="absolute",r.style.height=n[1]+"px",r.style.width=n[0]+"px",r.style.top=0,r.style.left=0,e&&0===e.indexOf(".")){this.getElementsByClassName(e,window).appendChild(r)}else if(e&&0===e.indexOf("#")){var o="string"==typeof id?document.getElementById(id):id;o.appendChild(r)}else{this.map.getViewport();this.map.getViewport().appendChild(r)}if(this._echartsContainer=r,this.chart=echarts.init(r),!echarts)throw new Error("请先引入echarts3！");echarts.Map=t,this.resize()};r.prototype.getElementsByClassName=function(t,e){var n=e||window;return n.document.querySelector.bind(n.document)(t)},r.prototype.remove=function(){this._echartsContainer.parentNode.removeChild(this._echartsContainer),this.map=void 0,echarts.Map=void 0},r.prototype.resize=function(){var t=this,e=this.map.getSize();t._echartsContainer.style.width=e[0]+"px",t._echartsContainer.style.height=e[1]+"px";var n="orientationchange"in window?"orientationchange":"resize",r=window.document;window.addEventListener(n,function(){setTimeout(function(){t.chart.resize()},50)},!1),window.addEventListener("pageshow",function(e){e.persisted&&setTimeout(function(){t.chart.resize()},50)},!1),"complete"===r.readyState?setTimeout(function(){t.chart.resize()},50):r.addEventListener("DOMContentLoaded",function(e){setTimeout(function(){t.chart.resize()},50)},!1)},e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){this.Map=t,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=e};r.prototype.dimensions=["lng","lat"],r.prototype.setMapOffset=function(t){this._mapOffset=t},r.prototype.getBMap=function(){return this.Map},r.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.Map=t},r.prototype.dataToPoint=function(t){return t&&Array.isArray(t)&&t.length>0&&(t=t.map(function(t){return"string"==typeof t&&(t=Number(t)),t})),this.Map.getPixelFromCoordinate(t)},r.prototype.pointToData=function(t){return this.Map.getCoordinateFromPixel(t)},r.prototype.getViewRect=function(){var t=this._api;return new echarts.graphic.BoundingRect(0,0,t.getWidth(),t.getHeight())},r.prototype.getRoamTransform=function(){return echarts.matrix.create()},r.dimensions=r.prototype.dimensions,r.create=function(t,e){var n=null;t.eachComponent("LDMap",function(t){var o=echarts.Map;n=new r(o,e),n.setMapOffset(t.mapOffset||[0,0]),t.coordinateSystem=n}),t.eachSeries(function(t){"LDMap"===t.get("coordinateSystem")&&(t.coordinateSystem=n)})},e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t,e){this.Map=t,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=e};r.prototype.dimensions=["lng","lat"],r.prototype.setMapOffset=function(t){this._mapOffset=t},r.prototype.getBMap=function(){return this.Map},r.prototype.setMap=function(t){if(!(t&&t instanceof ol.Map))throw new Error("传入的不是地图对象！");this.Map=t},r.prototype.dataToPoint=function(t){return t&&Array.isArray(t)&&t.length>0&&(t=t.map(function(t){return"string"==typeof t&&(t=Number(t)),t})),this.Map.getPixelFromCoordinate(t)},r.prototype.pointToData=function(t){return this.Map.getCoordinateFromPixel(t)},r.prototype.getViewRect=function(){var t=this._api;return new echarts.graphic.BoundingRect(0,0,t.getWidth(),t.getHeight())},r.prototype.getRoamTransform=function(){return echarts.matrix.create()},r.dimensions=r.prototype.dimensions,r.create=function(t,e){var n=null;t.eachComponent("LDMap",function(t){var o=echarts.Map;n=new r(o,e),n.setMapOffset(t.mapOffset||[0,0]),t.coordinateSystem=n}),t.eachSeries(function(t){"LDMap"===t.get("coordinateSystem")&&(t.coordinateSystem=n)})},e.default=r},function(t,e,n){"use strict";var r=n(13),o=function(t){return t&&t.__esModule?t:{default:t}}(r);echarts.registerCoordinateSystem("LDMap",o.default),echarts.registerAction({type:"MapRoam",event:"MapRoam",update:"updateLayout"},function(t,e){})},function(t,e,n){"use strict";echarts.ComponentModel=function(t){return t.extendComponentModel({type:"LDMap",getBMap:function(){return this.Map},defaultOption:{roam:!1}})}(echarts)},function(t,e,n){"use strict";echarts.extendComponentView({type:"LDMap",render:function(t,e,n){var r=!0,o=echarts.Map,i=n.getZr().painter.getViewportRoot(),a=t.coordinateSystem,u=function(e,o){if(!r){var u=i.parentNode.parentNode.parentNode,c=[-parseInt(u.style.left,10)||0,-parseInt(u.style.top,10)||0];i.style.left=c[0]+"px",i.style.top=c[1]+"px",a.setMapOffset(c),t.mapOffset=c,n.dispatchAction({type:"MapRoam"})}},c=function(){r||n.dispatchAction({type:"MapRoam"})};this._oldMoveHandler=u,this._oldZoomEndHandler=c,o.getView().on("change:resolution",u),o.getView().on("change:center",u),o.getView().on("change:rotation",u),o.on("moveend",u);t.get("roam");r=!1}}),t.exports=echarts},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(){return window.ld=l,this}Object.defineProperty(e,"__esModule",{value:!0});var i=n(11),a=r(i);e.noConflict=o;var u=n(10),c=r(u),s=n(9),f=r(s),p=(0,a.default)({version:"1.0.0"},f.default,c.default);p=ol=p.utils.extend(ol,p),window.ld=window.L=p;var l=window.ol},function(t,e,n){t.exports={default:n(20),__esModule:!0}},function(t,e,n){n(46),t.exports=n(4).Object.assign},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){var r=n(3);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var r=n(8),o=n(42),i=n(41);t.exports=function(t){return function(e,n,a){var u,c=r(e),s=o(c.length),f=i(a,s);if(t&&n!=n){for(;s>f;)if((u=c[f++])!=u)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(21);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(3),o=n(2).document,i=r(o)&&r(o.createElement);t.exports=function(t){return i?o.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){var r=n(2),o=n(4),i=n(25),a=n(30),u=function(t,e,n){var c,s,f,p=t&u.F,l=t&u.G,d=t&u.S,h=t&u.P,y=t&u.B,v=t&u.W,m=l?o:o[e]||(o[e]={}),g=m.prototype,M=l?r:d?r[e]:(r[e]||{}).prototype;l&&(n=e);for(c in n)(s=!p&&M&&void 0!==M[c])&&c in m||(f=s?M[c]:n[c],m[c]=l&&"function"!=typeof M[c]?n[c]:y&&s?i(f,r):v&&M[c]==f?function(t){var e=function(e,n,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(f):h&&"function"==typeof f?i(Function.call,f):f,h&&((m.virtual||(m.virtual={}))[c]=f,t&u.R&&g&&!g[c]&&a(g,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,t.exports=u},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(33),o=n(38);t.exports=n(0)?function(t,e,n){return r.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports=!n(0)&&!n(1)(function(){return 7!=Object.defineProperty(n(26)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){"use strict";var r=n(36),o=n(34),i=n(37),a=n(43),u=n(6),c=Object.assign;t.exports=!c||n(1)(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=r})?function(t,e){for(var n=a(t),c=arguments.length,s=1,f=o.f,p=i.f;c>s;)for(var l,d=u(arguments[s++]),h=f?r(d).concat(f(d)):r(d),y=h.length,v=0;y>v;)p.call(d,l=h[v++])&&(n[l]=d[l]);return n}:c},function(t,e,n){var r=n(22),o=n(31),i=n(44),a=Object.defineProperty;e.f=n(0)?Object.defineProperty:function(t,e,n){if(r(t),e=i(e,!0),r(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(29),o=n(8),i=n(23)(!1),a=n(39)("IE_PROTO");t.exports=function(t,e){var n,u=o(t),c=0,s=[];for(n in u)n!=a&&r(u,n)&&s.push(n);for(;e.length>c;)r(u,n=e[c++])&&(~i(s,n)||s.push(n));return s}},function(t,e,n){var r=n(35),o=n(27);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(40)("keys"),o=n(45);t.exports=function(t){return r[t]||(r[t]=o(t))}},function(t,e,n){var r=n(2),o=r["__core-js_shared__"]||(r["__core-js_shared__"]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,n){var r=n(7),o=Math.max,i=Math.min;t.exports=function(t,e){return t=r(t),t<0?o(t+e,0):i(t,e)}},function(t,e,n){var r=n(7),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(5);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(3);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+r).toString(36))}},function(t,e,n){var r=n(28);r(r.S+r.F,"Object",{assign:n(32)})}])});
//# sourceMappingURL=lmap-echarts.js.map